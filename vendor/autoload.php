<?php
/**
 * RMS Athletics System - Autoloader
 * Simple autoloader for framework-free PHP application
 * Generated by Composer - DO NOT EDIT
 */

// Simple PSR-4 autoloader for RMS system
spl_autoload_register(function ($class) {
    // Convert namespace separators to directory separators
    $class = str_replace('\\', DIRECTORY_SEPARATOR, $class);
    
    // Remove App namespace prefix if present
    if (strpos($class, 'App' . DIRECTORY_SEPARATOR) === 0) {
        $class = substr($class, 4);
    }
    
    // Base directory for the project
    $baseDir = dirname(__DIR__) . DIRECTORY_SEPARATOR;
    
    // Possible locations for class files
    $locations = [
        $baseDir . 'app' . DIRECTORY_SEPARATOR . $class . '.php',
        $baseDir . 'app' . DIRECTORY_SEPARATOR . strtolower($class) . '.php',
        $baseDir . $class . '.php'
    ];
    
    foreach ($locations as $file) {
        if (file_exists($file)) {
            require_once $file;
            return true;
        }
    }
    
    return false;
});

// Load helper functions
$helperFile = dirname(__DIR__) . '/app/helpers/ViewHelper.php';
if (file_exists($helperFile)) {
    require_once $helperFile;
}

// Define framework-free constants if not defined
if (!defined('ABSPATH')) {
    define('ABSPATH', dirname(__DIR__) . '/');
}

if (!defined('APP_PATH')) {
    define('APP_PATH', ABSPATH . 'app/');
}

// Application ready
return true;
